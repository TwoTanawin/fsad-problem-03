<!-- Post Creation Section -->
<div *ngIf="!isExpanded" class="max-w-xl mx-auto bg-white p-4 rounded-lg shadow-md">
    <div class="flex items-center space-x-4 p-2">
      <img class="h-10 w-10 rounded-full" [src]="userProfileImage" alt="Profile Picture" />
      <div class="flex-1">
        <input
          type="text"
          [placeholder]="'What\'s on your mind, ' + userName + '?'"
          class="w-full px-4 py-2 bg-gray-100 rounded-full text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
          (click)="isExpanded = true"
        />
      </div>
    </div>
  </div>
  
  <!-- Expanded Post Creation Modal -->
  <div *ngIf="isExpanded" class="fixed inset-0 z-50 bg-gray-900 bg-opacity-50 flex justify-center items-center">
    <div class="bg-white rounded-lg shadow-lg max-w-md w-full p-4">
      <div class="flex justify-between items-center">
        <h2 class="text-lg font-bold">Create post</h2>
        <button (click)="isExpanded = false" class="text-gray-500 hover:text-gray-700">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
  
      <!-- Post Content Input -->
      <textarea [(ngModel)]="newPostContent" rows="3" [placeholder]="'What\'s on your mind, ' + userName + '?'"
        class="w-full px-4 py-2 bg-gray-100 rounded-lg text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
  
      <!-- Image Upload Section -->
      <div class="mt-4">
        <input type="file" (change)="onImageSelected($event)" class="mb-2" />
        <!-- Image Preview -->
        <div *ngIf="newPostImage">
          <img [src]="newPostImage" class="rounded-lg w-full h-64 object-cover" alt="Image Preview" />
        </div>
      </div>
  
      <div class="mt-4">
        <button (click)="createPost()" class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
          Post
        </button>
      </div>
    </div>
  </div>
  
<!-- Render Posts -->
<div *ngFor="let post of posts; let i = index" class="max-w-xl mx-auto bg-white rounded-lg shadow-md p-4 mb-4 mt-4">
    <!-- Post Header with Profile Image and User Info -->
    <div class="flex justify-between items-center">
      <div class="flex items-center space-x-4">
        <img class="h-10 w-10 rounded-full" [src]="post.profileImage" alt="Profile Picture" />
        <div>
          <h4 class="font-bold text-gray-800">{{ post.owner }}</h4>
          <p class="text-sm text-gray-600">{{ post.timestamp }}</p>
        </div>
      </div>
      <div class="flex items-center space-x-2">
        <button (click)="pinPost(i)" class="text-sm text-gray-500 hover:text-blue-500">Pin</button>
        <button (click)="deletePost(i)" class="text-sm text-red-500 hover:text-red-600">Delete</button>
      </div>
    </div>
  
    <!-- Post Content (with margin added) -->
    <p class="mt-4 text-gray-800">{{ post.content }}</p> <!-- Added margin-top (mt-4) -->
    
    <div *ngIf="post.image" class="mt-2">
      <img [src]="post.image" class="rounded-lg w-full h-64 object-cover" alt="Post Image" />
    </div>
  
    <!-- Post Actions -->
    <div class="flex space-x-4 mt-4 text-sm text-gray-500">
      <button class="hover:text-blue-500">Like</button>
      <button class="hover:text-blue-500">Edit</button>
      <button class="hover:text-blue-500">Share</button>
    </div>
  
    <!-- Comments Section -->
    <div class="mt-4">
      <div *ngFor="let comment of post.comments" class="flex items-start space-x-2 mb-2">
        <img class="h-8 w-8 rounded-full" [src]="comment.profileImage" alt="Commenter Image" />
        <div>
          <h5 class="font-bold text-sm">{{ comment.username }}</h5>
          <p class="text-sm">{{ comment.text }}</p>
        </div>
      </div>
  
      <!-- Comment Input -->
      <div class="mt-4 flex items-center space-x-4">
        <img class="h-8 w-8 rounded-full" [src]="userProfileImage" alt="Profile Image" />
        <input [(ngModel)]="newCommentContent" placeholder="Write a comment..." class="flex-1 px-4 py-2 border border-gray-300 rounded-full">
        <button (click)="addComment(i)" class="bg-blue-500 text-white px-4 py-1 rounded-full">Post</button>
      </div>
    </div>
  </div>
  
  